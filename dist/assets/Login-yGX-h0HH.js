import{u as p,a as g,r as c,b as h,j as s,L as x,E as j,V as f,X as d,N}from"./index-NFJOMV6q.js";import{u as b}from"./index.esm-CT-llGJ6.js";import{E}from"./ErrorCard-CSolYDyc.js";import"./x-Gahxmuih.js";function P(){const i=p(),{loading:o,isAuthenticated:a,error:t}=g(r=>r.authReducer),[v,w]=c.useState(!1),n=h(),{register:l,handleSubmit:m,formState:{errors:e}}=b(),u=r=>{console.log("Form SUbmitted:"+r),i(d(r))};return c.useEffect(()=>{a&&(console.log(a),n("/Profile"))},[a,n]),o?s.jsx(x,{}):s.jsxs("div",{className:"login-container",style:{position:"relative"},children:[s.jsxs("div",{className:"login-header",children:[s.jsx("h2",{className:"login-logo",children:"RoastMe"}),s.jsx(j,{className:"login-backbtn",size:36})]}),s.jsxs("div",{className:"login-content",children:[s.jsx("h1",{children:"Welcome Back"}),s.jsxs("form",{className:"login-form",onSubmit:m(u),children:[s.jsxs("label",{children:[s.jsx("input",{type:"text",placeholder:"Enter Username/Email",...l("identifier",{required:"Email is required"})}),t&&s.jsx(E,{message:t,action:()=>i(d),clearAction:f,loading:o,isvisible:!0}),e.identifier&&s.jsx("span",{className:"error-message",children:e.identifier.message})]}),s.jsxs("label",{children:[s.jsx("input",{type:"password",placeholder:"Password",...l("password",{required:"Password is required"})}),e.password&&s.jsx("span",{className:"error-message",children:e.password.message})]}),s.jsx("p",{className:"forgot-password",children:"Forgot Password ?"}),s.jsx("button",{type:"submit",className:"login-button",children:"Log in"})]}),s.jsxs("p",{className:"login-type",children:["Don't have an account ?",s.jsx(N,{to:"/register",children:s.jsx("span",{children:" Sign Up"})})," "]})]})]})}export{P as default};
